React from 'react'
{ useFind, useSubscribe } from 'meteor/react-meteor-data'
{ LinksCollection, Link } from '../api/links'

export Info := =>
  isLoading := useSubscribe 'links'
  links := useFind => LinksCollection.find()

  makeLink := (link: Link) =>
    <li key={link._id}>
      <a href={link.url} target="_blank">{link.title}

  if isLoading()
    <div>Loading...
  else
    <div>
      <h2>Learn Meteor!
      <ul>{links.map(makeLink)}
